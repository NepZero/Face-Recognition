if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const n=this.constructor;return this.then((t=>n.resolve(e()).then((()=>t))),(t=>n.resolve(e()).then((()=>{throw t}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function n(e,n,...t){uni.__log__?uni.__log__(e,n,...t):console[e].apply(console,[...t,n])}const t=((n,t=0)=>(t,o=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(n,t,o)})("onLoad",2);__definePage("pages/index/index",((e,n)=>{const t=e.__vccOpts||e;for(const[o,i]of n)t[o]=i;return t})({__name:"index",setup(o){const i=e.ref("192.168.31.65:3000/send"),a=e.computed((()=>"http://"+i.value)),r=e.ref(!1),l=e.ref();function u(){uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["camera","album"],success:function(e){n("log","at pages/index/index.vue:29",JSON.stringify(e.tempFilePaths));const t=e.tempFilePaths[0];n("log","at pages/index/index.vue:31",t),uni.uploadFile({url:a.value,filePath:t,name:"imagefile",formData:{user:"test"},success:e=>{uni.showToast({title:"上传成功",icon:"success"})},fail:e=>{uni.showToast({title:"上传失败",icon:"fail"})},complete:()=>{n("log","at pages/index/index.vue:52","buzhidao")}})}})}function s(){r.value=!0,uni.request({url:a.value,method:"POST",success:e=>{n("log","at pages/index/index.vue:65","连接测试成功:",e.data),uni.showToast({title:"连接成功",icon:"success"})},fail:e=>{n("error","at pages/index/index.vue:72","连接测试失败:",e),uni.showModal({title:"连接失败",content:"无法连接到服务器\n请检查:\n1. IP地址是否正确\n2. 端口是否开放\n3. 防火墙设置",showCancel:!1})},complete:()=>{r.value=!1}})}function c(){uni.showModal({title:i.value,content:"",editable:!0,placeholderText:"输入ip",success:e=>{e.confirm&&(i.value=e.content)}})}return t((()=>{l.value=uni.getSystemInfoSync().windowHeight})),(n,t)=>(e.openBlock(),e.createElementBlock("view",{class:"layout",onTouchmove:e.withModifiers((()=>{}),["stop","prevent"]),style:e.normalizeStyle("height:"+l.value+"px!important")},[e.createElementVNode("button",{class:"loadbutton",size:"default",onClick:u},"点击拍照"),e.createElementVNode("button",{size:"default",onClick:s,loading:r.value},"网络测试",8,["loading"]),e.createElementVNode("button",{size:"default",onClick:c},"网络配置")],36))}},[["__scopeId","data-v-e8c45d01"]]));const o={onLaunch:function(){n("log","at App.vue:4","App Launch")},onShow:function(){n("log","at App.vue:7","App Show")},onHide:function(){n("log","at App.vue:10","App Hide")}};const{app:i,Vuex:a,Pinia:r}={app:e.createVueApp(o)};uni.Vuex=a,uni.Pinia=r,i.provide("__globalStyles",__uniConfig.styles),i._component.mpType="app",i._component.render=()=>{},i.mount("#app")}(Vue);
